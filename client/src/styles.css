/* ================== Gradient tokens used by Buttons / Switch / Checkbox ================== */
:root {
  --cta-gradient-cool: linear-gradient(90deg, #3b82f6, #7c3aed);
  --cta-gradient-warm: linear-gradient(90deg, var(--brand-gold), var(--brand-purple));
  --cta-gradient: var(--cta-gradient-cool);   /* Light/default = blue→purple */
  --switch-gradient: var(--cta-gradient);     /* Switch/Checkbox follow CTA */
}
:root[data-theme="midnight"] {
  --cta-gradient: var(--cta-gradient-warm);   /* Midnight default = gold→purple */
  --cta-overlay: rgba(0,0,0,0.22);
}
:root[data-theme="midnight"][data-cta="cool"] {
  --cta-gradient: var(--cta-gradient-cool);   /* optional Midnight blue→purple */
  --cta-overlay: transparent;
  --switch-gradient: var(--cta-gradient);
}

/* ================== CTAs / Links / Badges (site-wide) ================== */

/* Primary CTA (theme-aware) */
.button-primary {
  position: relative;
  background: var(--cta-gradient);
  color: var(--cta-label);
  box-shadow: 0 6px 20px var(--shadow-accent);
}
.button-primary::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: var(--cta-overlay, transparent);
  pointer-events: none;
}
.button-primary > * { position: relative; z-index: 1; }

/* Keep OAuth + secondary CTAs neutral so the gradient isn’t everywhere */
.oauth-button,
.secondary-cta {
  background: var(--card);
  color: var(--accent);
  border: 1px solid var(--border);
  box-shadow: none;
}

/* Softer link styling */
a, .link { color: var(--accent); }
a:hover, .link:hover { text-decoration: underline; filter: none; }

/* Subtle gold badges */
.badge-gold {
  background: color-mix(in oklab, var(--brand-gold) 14%, transparent);
  color: color-mix(in oklab, var(--brand-gold) 78%, #111);
  border: 1px solid color-mix(in oklab, var(--brand-gold) 35%, transparent);
}

/* ================== Brand lockup (logo + wordmark) ================== */
.brand-lockup { display: inline-flex; align-items: center; gap: 0.5rem; }
.brand-lockup__logo { width: var(--logo-size, 44px); height: auto; object-fit: contain; }
.brand-lockup__name { font-size: var(--text-size, 24px); margin: 0; line-height: 1; }

.brand-lockup--fixed { position: absolute; inset-block-start: -6px; inset-inline-start: 0; z-index: 2; }
@media (max-width: 62em) { .brand-lockup--fixed { position: static; } }

/* Safety override if an old rule set width directly */
.brand-lockup .logo-chatforia,
.brand-lockup .brand-lockup__logo {
  width: var(--logo-size, 44px) !important;
  height: auto !important;
}

/* ================== Auth background (theme-aware) ================== */
.auth-page {
  min-height: 100vh;
  background:
    radial-gradient(1200px 600px at 10% -10%,
      color-mix(in oklab, var(--brand-blue) 18%, transparent), transparent),
    radial-gradient(900px 500px at 110% 110%,
      color-mix(in oklab, var(--brand-gold) 15%, transparent), transparent);
}
/* Deeper hues on Midnight */
:root[data-theme="midnight"] .auth-page {
  background:
    radial-gradient(1200px 600px at 10% -10%,
      color-mix(in oklab, var(--brand-purple) 24%, transparent), transparent),
    radial-gradient(900px 500px at 110% 110%,
      color-mix(in oklab, var(--brand-gold) 16%, transparent), transparent);
}

/* Gradient text helper (blue→purple) */
.text-blue-purple {
  background: linear-gradient(90deg, #3b82f6, #7c3aed);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent !important;
  -webkit-text-fill-color: transparent;
}

/* Paint BrandLockup wordmark with the same gradient on the auth hero */
.bp-wordmark .brand-lockup__name {
  background: linear-gradient(90deg, #3b82f6, #7c3aed);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent !important;
  -webkit-text-fill-color: transparent;
}

/* Trim transparent padding in /logo-blank.png so its VISIBLE edge aligns to heading */
.auth-hero-lockup .brand-lockup__logo { margin-left: -8px; }

/* Temporary midnight test */
.auth-page--midnight-test {
  background: #060913;
  --cta-gradient: linear-gradient(90deg, var(--brand-gold), var(--brand-purple));
  --cta-label: #fff;
  --cta-overlay: rgba(0,0,0,0.22);
}

/* Gradient links only on the Auth page */
.auth-page .mantine-Anchor-root,
.auth-page a.auth-link-gradient {
  background: linear-gradient(90deg, #3b82f6, #7c3aed);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent !important;
  -webkit-text-fill-color: transparent;
  text-decoration: none;
}
.auth-page .mantine-Anchor-root:hover,
.auth-page a.auth-link-gradient:hover {
  text-decoration: underline;
  filter: brightness(1.05);
}

/* ================== App-wide Surfaces & Mantine mapping ================== */
html, body, #root { background: var(--bg); color: var(--fg); }

.mantine-AppShell-root,
.mantine-AppShell-main { background: var(--bg); color: var(--fg); }

/* Side rail / content panels */
.sidebar, .left-rail, .content-panel, .chat-main {
  background: var(--bg);
  color: var(--fg);
  border-color: var(--border);
}

/* Map Mantine base tokens to our theme variables */
:root,
[data-mantine-color-scheme] {
  --mantine-color-body: var(--bg);
  --mantine-color-text: var(--fg);
}

/* AppShell surfaces */
.mantine-AppShell-root,
.mantine-AppShell-main,
.mantine-AppShell-header,
.mantine-AppShell-navbar,
.mantine-AppShell-aside,
.mantine-AppShell-footer,
.mantine-Header-root,
.mantine-Navbar-root,
.mantine-Aside-root,
.mantine-Footer-root {
  background: var(--bg) !important;
  color: var(--fg) !important;
  border-color: var(--border) !important;
}

/* Cards/panels should look like cards, not the page bg */
.mantine-Card-root,
.mantine-Paper-root {
  background: var(--card);
  color: var(--fg);
  border-color: var(--border);
}

/* ================== Switch & Checkbox gradients (global) ================== */
.mantine-Switch-track[data-checked],
.mantine-Switch-track[data-checked="true"] {
  background: var(--switch-gradient) !important;
  border-color: transparent !important;
}
.mantine-Checkbox-input:checked + .mantine-Checkbox-inner {
  background: var(--switch-gradient) !important;
  border-color: transparent !important;
}
.mantine-Checkbox-input:checked + .mantine-Checkbox-inner .mantine-Checkbox-icon { color: #fff; }

/* --- Robust ON-state selectors for Mantine Switch/Checkbox (v7) --- */
/* Switch: cover all structures (root carries data-checked in some builds) */
.mantine-Switch-root[data-checked] .mantine-Switch-track,
.mantine-Switch-root[data-checked="true"] .mantine-Switch-track,
.mantine-Switch-input:checked ~ .mantine-Switch-track {
  background: var(--switch-gradient) !important;
  border-color: transparent !important;
}

/* Checkbox: keep using the input→inner relationship */
.mantine-Checkbox-input:checked + .mantine-Checkbox-inner {
  background: var(--switch-gradient) !important;
  border-color: transparent !important;
}
.mantine-Checkbox-input:checked + .mantine-Checkbox-inner .mantine-Checkbox-icon {
  color: #fff !important;
}

/* Smoothen theme flips */
:root, .auth-page,
.mantine-Paper-root, .mantine-TextInput-input, .mantine-PasswordInput-input {
  transition: background-color .25s ease, color .25s ease, border-color .25s ease, box-shadow .25s ease;
}

/* Hero title always uses readable foreground; accent stays gradient */
.auth-hero-title { color: var(--fg); }
:root[data-theme="midnight"] .auth-hero-title {
  color: #eef2ff;
  text-shadow: 0 1px 0 rgba(0,0,0,.18);
}

/* Icon chips readable on both themes */
.auth-hero .auth-chip {
  background: linear-gradient(90deg, #3b82f6, #7c3aed);
  color: #fff;
}

/* Auth card: Light stays white; Midnight uses soft dark glass */
.auth-login .mantine-Paper-root,
.auth-card.mantine-Paper-root,
.auth-card {
  background: var(--card);
  border-color: var(--border);
}

:root[data-theme="midnight"] .auth-login .mantine-Paper-root,
:root[data-theme="midnight"] .auth-card {
  background: #0e1424;              /* deep navy, not pure black */
  border: 1px solid #1b2640;        /* clear separation */
  box-shadow:
    0 20px 40px rgba(0,0,0,0.45),
    0 8px 30px rgba(124,58,237,0.12); /* gentle violet glow */
}

/* Inputs inside Midnight card */
:root[data-theme="midnight"] .auth-login .mantine-TextInput-input,
:root[data-theme="midnight"] .auth-login .mantine-PasswordInput-input {
  background: #0f1b34;
  border-color: #223154;
  color: #e8ecf8;
}
/* 
CTA / switches already follow your tokens:
   - Light -> --cta-gradient (cool)
   - Midnight -> warm by default, or set data-cta="cool" to flip */
