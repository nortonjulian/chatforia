/* ================== Chatforia App Styles ================== */
/* Consumes tokens from themes.css. No raw hexes for brand areas. */

/* --- CTA & control gradients --- */
:root { --switch-gradient: var(--cta-gradient); }

/* ---------- Logo theming tokens (ONE source of truth) ---------- */
:root {
  --logo-bubble: #FFA51A; /* not used for bubble fill anymore, but kept as a token */
  --logo-c: #FFFFFF;      /* the “C” */
}
/* Theme variants for the “C” if desired */
:root[data-theme="dark"],
:root[data-theme="midnight"],
:root[data-theme="amoled"] { --logo-bubble: #FFA51A; --logo-c: #0b0b0c; }
:root[data-theme="violet"] { --logo-bubble: #6A3CC1; --logo-c: #FFFFFF; }
:root[data-theme="blue"]   { --logo-bubble: #0B84F3; --logo-c: #FFFFFF; }
:root[data-theme="rose"]   { --logo-bubble: #FF3E88; --logo-c: #FFFFFF; }

/* === Brand gold (single source) — bubble, CTAs, headline match === */
:root{
  --gold-1: #FFC83A;  /* light */
  --gold-2: #FFB300;  /* mid  */
  --gold-3: #FF8A00;  /* deep */
  --brand-gold-gradient: linear-gradient(180deg, var(--gold-1) 0%, var(--gold-2) 55%, var(--gold-3) 100%);

  /* CTAs use same ramp so buttons match the bubble/text */
  --cta-gradient: var(--brand-gold-gradient);
  --cta-label: #1f1200;

  /* Map gradient stops for LogoGlyph */
  --logo-stop-1: var(--gold-1);
  --logo-stop-2: var(--gold-2);
  --logo-stop-3: var(--gold-3);
}

/* ================== CTAs / Links / Badges (site-wide) ================== */
.button-primary {
  position: relative;
  background: var(--cta-gradient);
  color: var(--cta-label);
  border: none;
  box-shadow: 0 6px 20px var(--shadow-accent);
  transition: filter .15s ease, box-shadow .15s ease, transform .05s ease;
}
.button-primary::before { content: ""; position: absolute; inset: 0; border-radius: inherit; background: var(--cta-overlay, transparent); pointer-events: none; }
.button-primary > * { position: relative; z-index: 1; }
.button-primary:hover  { filter: brightness(1.03); }
.button-primary:active { transform: translateY(1px); }

.oauth-button, .secondary-cta { background: var(--card); color: var(--accent); border: 1px solid var(--border); box-shadow: none; }
a, .link { color: var(--accent); }
a:hover, .link:hover { text-decoration: underline; filter: none; }

.badge-gold {
  background: color-mix(in oklab, var(--gold-1) 14%, transparent);
  color: color-mix(in oklab, var(--gold-3) 78%, #111);
  border: 1px solid color-mix(in oklab, var(--gold-2) 35%, transparent);
}

/* ================== Brand lockup / logo row ================== */
.brand-lockup{
  --logo-size: 64px;
  display: inline-flex;
  align-items: center;
  gap: 8px;
}
.brand-logo{
  width: var(--logo-size);
  height: var(--logo-size);
  line-height: 0;
  display: inline-block;
  vertical-align: baseline;
  overflow: visible;
  margin-right: -0.26em; /* small optical tuck (canceled/tweaked in hero) */
}
.brand-logo svg{ width:100%; height:100%; display:block; } /* removed vertical-align */
.brand-lockup__name{ margin:0; line-height:1; }

/* ================== Page backgrounds (shared gradient) ================== */

/* Light / Sun / default themes */
.auth-page,
.public-page,
.app-surface--tint {
  min-height: 100vh;
  background:
    radial-gradient(
      1200px 700px at 10% -10%,
      color-mix(in oklab, var(--brand-purple) 22%, transparent),
      transparent
    ),
    radial-gradient(
      1100px 650px at 110% 110%,
      color-mix(in oklab, var(--gold-1) 22%, transparent),
      transparent
    ),
    var(--bg);
}

/* Extra padding only for public / marketing pages */
.public-page,
.app-surface--tint {
  padding-block: 32px 48px;
}

/* Dark / midnight / amoled variants */
:root[data-theme="dark"] .auth-page,
:root[data-theme="dark"] .public-page,
:root[data-theme="dark"] .app-surface--tint,
:root[data-theme="midnight"] .auth-page,
:root[data-theme="midnight"] .public-page,
:root[data-theme="midnight"] .app-surface--tint,
:root[data-theme="amoled"] .auth-page,
:root[data-theme="amoled"] .public-page,
:root[data-theme="amoled"] .app-surface--tint {
  background:
    radial-gradient(
      1200px 700px at 10% -10%,
      color-mix(in oklab, var(--brand-indigo) 30%, transparent),
      transparent
    ),
    radial-gradient(
      1100px 650px at 110% 110%,
      color-mix(in oklab, var(--brand-blue) 22%, transparent),
      transparent
    ),
    var(--bg);
}

/* ================== Gradient text helpers ================== */
.text-logo-gradient { background: var(--brand-gold-gradient); -webkit-background-clip: text; background-clip: text; color: transparent !important; -webkit-text-fill-color: transparent; }
/* Use brand gold for the H1 accent */
.text-blue-purple{
  background: none !important;
  -webkit-background-clip: initial;
  background-clip: initial;
  -webkit-text-fill-color: var(--gold-2);
  color: var(--gold-2) !important;
}

/* Gradient links used for "← Home" etc. */
a.auth-link-gradient {
  background: var(--cta-gradient);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent !important;
  -webkit-text-fill-color: transparent;
  text-decoration: none;
}

a.auth-link-gradient:hover {
  text-decoration: underline;
  filter: brightness(1.05);
}

.auth-page .mantine-Anchor-root,
.auth-page .auth-link-gradient {
  background: var(--cta-gradient);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent !important;
  -webkit-text-fill-color: transparent;
  text-decoration: none;
}

.auth-page .mantine-Anchor-root:hover,
.auth-link-gradient:hover {
  text-decoration: underline;
  filter: brightness(1.05);
}

/* ================== App-wide surfaces & Mantine mapping ================== */
html, body, #root { background: var(--bg); color: var(--fg); }
.mantine-AppShell-root, .mantine-AppShell-main { background: var(--bg); color: var(--fg); }
.sidebar, .left-rail, .content-panel, .chat-main { background: var(--bg); color: var(--fg); border-color: var(--border); }
:root, [data-mantine-color-scheme] { --mantine-color-body: var(--bg); --mantine-color-text: var(--fg); }
.mantine-AppShell-root, .mantine-AppShell-main, .mantine-AppShell-header, .mantine-AppShell-navbar, .mantine-AppShell-aside, .mantine-AppShell-footer, .mantine-Header-root, .mantine-Navbar-root, .mantine-Aside-root, .mantine-Footer-root {
  background: var(--bg) !important;
  color: var(--fg) !important;
  border-color: var(--border) !important;
}
.mantine-Card-root, .mantine-Paper-root { background: var(--card); color: var(--fg); border-color: var(--border); }

/* ================== Switch & Checkbox gradients (global) ================== */
.mantine-Switch-track[data-checked],
.mantine-Switch-track[data-checked="true"] { background: var(--switch-gradient) !important; border-color: transparent !important; }
.mantine-Checkbox-input:checked + .mantine-Checkbox-inner { background: var(--switch-gradient) !important; border-color: transparent !important; }
.mantine-Checkbox-input:checked + .mantine-Checkbox-inner .mantine-Checkbox-icon { color: #fff; }
.mantine-Switch-root[data-checked] .mantine-Switch-track,
.mantine-Switch-root[data-checked="true"] .mantine-Switch-track,
.mantine-Switch-input:checked ~ .mantine-Switch-track { background: var(--switch-gradient) !important; border-color: transparent !important; }

/* ================== Theme chips ================== */
.theme-chip {
  --radius: 9999px; --pad-x: 12px; --pad-y: 8px; --gap: 6px;
  display: inline-flex; align-items: center; gap: var(--gap);
  padding: var(--pad-y) var(--pad-x); border-radius: var(--radius);
  border: 1px solid rgba(0,0,0,.12); background: #fff; color: #111;
  font-size: 14px; line-height: 1; cursor: pointer; min-height: 44px;
  transition: background .15s ease, border-color .15s ease, box-shadow .15s ease;
}
.theme-chip svg { width: 18px; height: 18px; }
.theme-chip:hover { background: #fff8f0; border-color: rgba(0,0,0,.2); }
.theme-chip:focus-visible { outline: none; box-shadow: 0 0 0 3px rgba(255,165,0,.35); }
.theme-chip[aria-pressed="true"], .theme-chip[data-selected="true"] { background: #ffedd5; border-color: #f59e0b; color: #7c2d12; }
@media (prefers-color-scheme: dark) {
  .theme-chip { background: #0f0f10; color: #e7e7e7; border-color: rgba(255,255,255,.12); }
  .theme-chip:hover { background: #171718; border-color: rgba(255,255,255,.2); }
  .theme-chip[aria-pressed="true"], .theme-chip[data-selected="true"] { background: rgba(245,158,11,.18); border-color: #f59e0b; color: #ffedd5; }
}

/* ================== Smooth theme flips; respect reduced motion ================== */
:root, .auth-page, .mantine-Paper-root, .mantine-TextInput-input, .mantine-PasswordInput-input {
  transition: background-color .25s ease, color .25s ease, border-color .25s ease, box-shadow .25s ease;
}
@media (prefers-reduced-motion: reduce) {
  :root, .auth-page, .mantine-Paper-root, .mantine-TextInput-input, .mantine-PasswordInput-input { transition: none; }
}

/* ================== Headline readability ================== */
.auth-hero-title { color: var(--fg); }
:root[data-theme="dark"] .auth-hero-title,
:root[data-theme="midnight"] .auth-hero-title { color: #eef2ff; text-shadow: 0 1px 0 rgba(0,0,0,.18); }

/* ================== Auth page readability ================== */
.auth-page .mantine-InputWrapper-label,
.auth-page .mantine-Text-root,
.auth-page .mantine-Title-root,
.auth-page .mantine-List-itemLabel,
.auth-page .mantine-Alert-message,
.auth-page .mantine-Divider-label { color: var(--fg) !important; opacity: 1 !important; }
.auth-page .mantine-TextInput-input::placeholder,
.auth-page .mantine-PasswordInput-input::placeholder,
.auth-page input::placeholder,
.auth-page textarea::placeholder { color: color-mix(in oklab, var(--fg) 72%, transparent) !important; opacity: 1 !important; }
.auth-page .mantine-Anchor-root { color: var(--accent) !important; }
.auth-page .mantine-ThemeIcon-root { color: var(--cta-label) !important; }
.auth-page .mantine-Divider-label { color: var(--fg) !important; opacity: .85 !important; }

/* ================== HERO: bubble + wordmark + headline grid ================== */
.hero{
  --bubble: clamp(64px, 9vw, 90px);
  --c-offset: calc((31 / 256) * var(--bubble));
  --gap: 3px;   
  --hug-x: -6px;
  --hug-y: -5px;
}
@media (min-width: 1024px){
  .hero{ --gap: 2px; --hug-x: -7px; --hug-y: -6px; }
}

.hero-bubble-align{
  display:grid;
  grid-template-columns: var(--bubble) 1fr;
  column-gap: var(--gap);
  row-gap: 0;
  align-items:center;
}

.hero-bubble-align .brand-logo{ width: var(--bubble); height: var(--bubble); margin-right: -3px; }
.hero-bubble-align .brand-logo svg{ display:block; }
.hero-bubble-align .brand-lockup__name{ margin:0; line-height:1; transform: translate(var(--hug-x), -2px); }

/* Headline aligned to the “C” */
.hero-bubble-title{
  grid-column: 1 / -1;
  margin: 0;
  margin-top: var(--hug-y);
  margin-left: var(--c-offset);
}

/* Body block aligned to the same “C” edge */
.hero-after{
  margin-left: var(--c-offset);
  display: grid;
  gap: 12px;
}
@media (max-width: 640px){
  .hero-bubble-title, .hero-after { margin-left: 0; }
}

/* ================== Hanging icons for the feature list ================== */
.auth-list{
  --icon: 28px; --gap: 10px; --hang: calc(var(--icon) + var(--gap));
  padding-left: var(--hang);
}
.auth-list [class*="mantine-List-itemIcon"]{
  width: var(--icon);
  margin-left: calc(-1 * var(--hang));
  margin-right: var(--gap);
  display:flex; align-items:center; justify-content:center;
}
.auth-list [class*="mantine-List-itemWrapper"]{ padding-left:0; }

/* ================== Auth column responsiveness ================== */
.auth-login {
  max-width: 440px;
  margin-inline: auto; /* center at small widths */
}
@media (min-width: 62em) { /* Mantine md ≈ 992px */
  .auth-login {
    margin-right: 0;
    margin-left: auto;  /* right-align on md+ */
  }
}

/* Chat layout: let the footer auto-size */
.chatgrid {
  display: grid;
  grid-template-rows: auto 1fr auto auto; /* header | messages | footer-ad | composer */
  min-height: 100dvh;                      /* viewport-based height */
  min-width: 0;
}

/* Let the ScrollArea’s row actually scroll */
.chat-scroll-region {
  min-height: 0;
  overflow: auto;
}

/* Footer ad above the composer */
.chat-footer-ad {
  padding: 8px 12px 0;
}

/* Composer at the bottom + iOS safe area */
.chat-footer {
  padding: 8px 12px;
  border-top: 1px solid rgba(0,0,0,.06);
  background: var(--mantine-color-body);
  padding-bottom: calc(12px + env(safe-area-inset-bottom));
}

/* Make sure the Textarea never collapses */
.message-input .mantine-Textarea-input,
.message-input textarea {
  min-height: 44px;
}

/* iOS home indicator clearance for the composer */
.chat-footer { padding-bottom: calc(12px + env(safe-area-inset-bottom)); }

/* Sensible body defaults */
body { font-size: 16px; line-height: 1.4; }

html, body, #root { height: 100%; }

.app-shell, .app, .main-route {
  min-height: 100dvh;   /* or 100vh if you prefer */
  display: flex;
  flex-direction: column;
  min-height: 0;        /* guard for nested flex scrollers */
}

.main-route > * {
  flex: 1 1 auto;
  min-height: 0;        /* lets children like ScrollArea actually scroll */
}

/* scope to the selector wrapper you use */
.recipient-selector .browse-chip {
  position: static !important;   /* or place it above the input */
  margin-bottom: 6px;
  box-shadow: none;              /* remove gold glow */
  background: var(--card);
  z-index: 1;
}

/* If it’s absolutely positioned, at least keep it fully visible */
.recipient-selector .browse-chip.is-absolute {
  top: -10px;
  left: 8px;
  z-index: 3;
}

.cf-phone-input {
  width: 100%;
}
.cf-phone-input .PhoneInputInput {
  width: 100%;
  height: var(--input-height-md, 36px);
  padding: 8px 12px;
  border: 1px solid var(--mantine-color-default-border);
  background: var(--mantine-color-body);
  color: var(--mantine-color-text);
  border-radius: var(--mantine-radius-md);
  outline: none;
}
.cf-phone-input .PhoneInputInput:focus {
  border-color: var(--mantine-primary-color-filled);
  box-shadow: 0 0 0 2px color-mix(in srgb, var(--mantine-primary-color-filled) 15%, transparent);
}

.skip-link {
  position: absolute;
  top: -1000px;
  left: 8px;
  padding: 8px 12px;
  background: #fff;
  border: 1px solid rgba(0,0,0,0.15);
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
  z-index: 1000;           /* above header content */
}
.skip-link:focus {
  top: 8px;               /* slides into view when focused */
  outline: 2px solid;
}

/* ================== Pricing / plan cards ================== */
.plan-card {
  height: 100%;
}

/* Highlighted “Best value” card, using theme tokens */
.plan-card--highlight {
  background: var(--surface-highlight-bg, var(--card));
  color: var(--surface-highlight-fg, var(--fg));
}

/* Make sure Mantine text components don’t dim themselves into illegibility
   over the light coupon background. */
.plan-card--highlight .mantine-Text-root,
.plan-card--highlight .mantine-Title-root {
  color: inherit !important;
  opacity: 1 !important;
}

/* Final gradient "← Home" link (public pages) */
a.home-link-pure {
  display: inline-block;

  /* text styling */
  font-size: var(--mantine-font-size-sm);
  font-weight: 500;

  /* purple → teal gradient */
  background-image: linear-gradient(
    90deg,
    #7c3aed 0%,   /* purple at left (arrow/start) */
    #22d3ee 100%  /* teal at right */
  );
  background-size: 100% 100%;
  background-repeat: no-repeat;

  -webkit-background-clip: text;
  background-clip: text;

  /* crush global `a { color: var(--accent) }` */
  color: transparent !important;
  -webkit-text-fill-color: transparent !important;

  /* remove default underline */
  text-decoration: none !important;
}

a.home-link-pure:hover {
  text-decoration: underline !important;
  filter: brightness(1.05);
}
